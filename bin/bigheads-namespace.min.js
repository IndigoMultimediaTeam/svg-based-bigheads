const SVGBigHeads=function(){"use strict";const{colors:e,safe_layers:t,parts:r}=JSON.parse('{"colors":{"hair":"#d96e27","clothes":"#d67070","hat":"#5bcaf0","mouth":"#dd3e3e","skin":"#fdd2b2"},"safe_layers":["base","eyes","clothes",["facialhair","eyebrow"],"mouth",["nose","breasts","hat","glasses"]],"parts":{"glasses":["none","big","pincenez","sun"],"breasts":["none","breasts"],"eyebrow":["none","angry","neutral","smiling"],"facialhair":["none","big","stubble"],"hair":{"none":{"front":true},"afro":{"front":true,"top":true},"balding":{"front":true},"bob":{"front":true},"bold":{"front":true},"bun":{"front":true,"top":true},"buzz":{"front":true},"long":{"front":true},"long01":{"back":true,"parent":"long"},"long02":{"back":true,"parent":"long"},"long03":{"back":true,"parent":"long"},"mohawk":{"top":true},"serious":{"front":true},"short":{"front":true},"simple":{"front":true},"stubble":{"front":true}},"hat":["none","beanie","turban"],"nose":["none","big","normal","up"],"base":["base"],"clothes":["dressshirt","tanktop","tshirt","vneck"],"eyes":["narrower","round","semiround","simple","thin"],"mouth":["lips","neutral","open","smile"]}}'),n=document.createElementNS.bind(document,"http://www.w3.org/2000/svg");function s(){const e=n("svg");return e.setAttribute("viewBox","0 0 1000 990"),e}const i=(e,t)=>e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);function a(e){const t=n("use");return i(t,e),t}const o=function(){const{attributes_default:e,attributes_keys:t,attributes_nullable:n,attributes_objectbased:s}=function(){const e={href:""},t=[],n=[];for(let s,i=0,a=Object.keys(r);s=a[i];i++){const i=Reflect.get(r,s);let a;Array.isArray(i)?-1!==(a=i).indexOf("none")&&t.push(s):(a=Object.keys(i),n.push(s)),Reflect.set(e,s,a[0])}const s=Object.keys(e);return{attributes_default:e,attributes_keys:s,attributes_nullable:t,attributes_objectbased:n}}(),i=new WeakMap;function a(e){return-1!==s.indexOf(e)}return{attributes_default:e,attributes_keys:t,isNullable:e=>-1!==n.indexOf(e),isFromMultiplePieces:a,getNextPartName(e,t,n=1){const s=Reflect.get(r,e),i=a(e)?Object.keys(s).filter(e=>"long"!==e):s;return i[(o=i.indexOf(t),u=n,l=i.length,(l+o+u%l)%l)];var o,u,l},get:t=>i.has(t)?i.get(t):function(t){const r=JSON.parse(JSON.stringify(e));return i.set(t,{attributes:r,els:{}}),i.get(t)}(t),setAttribute:({attributes:t},r,n=null)=>Reflect.set(t,r,n||e[r]),getAttribute:({attributes:e},t)=>e[t],hasElement:(e,t)=>Reflect.has(e.els,t),getElement:(e,t)=>Reflect.get(e.els,t),setElement:(e,t,r)=>Reflect.set(e.els,t,r),deleteElement:({els:e},t)=>!!Reflect.has(e,t)&&(Reflect.get(e,t).remove(),Reflect.deleteProperty(e,t))}}();function u(e,t,r=o.getAttribute(e,t)){return`${o.getAttribute(e,"href")}#${t}-${r}`}function l(e,r){for(let s,i,a=0;i=t[a];a++){if(!Array.isArray(i)){s=i;continue}const t=i.indexOf(r);if(-1!==t)return o.getElement(e,n(i,t)||s)}function n(t,r){if(0===r)return!1;for(let n,s=r-1;s>=0;s--)if(n=t[s],o.hasElement(e,n))return n;return!1}}function c(e){const t=r.hair[e],n=(e,t,r={})=>Object.keys(e).filter(t=>"parent"!==t&&Boolean(e[t])).reduce((e,r)=>Reflect.set(e,r,t+"-"+r)&&e,r);let s=n(t,e);return t.parent&&(s=n(r.hair[t.parent],t.parent,s)),s}const f={options:{allow:!0,fit:"contain",big_hat:"bigheads-hat-longhairs"},is_created:!1,create(){if(!this.options.allow||this.is_created)return!1;const e=document.createElement("style"),{fit:t,big_hat:r}=this.options;e.innerHTML=`svg-bigheads svg, svg-bigheads-part svg { all: unset; width: 100%; height: 100%; object-fit: ${t}; }`+`svg-bigheads .${r} { transform: scale(1.1) translate(-5%, -7.5%); }`,document.head.appendChild(e),this.is_created=!0}};function b(e,t){const r=o.getAttribute(t,"hair");o.deleteElement(t,"hair");const n="none"!==o.getAttribute(t,"hat"),s=e=>n&&o.getElement(t,"hat").classList.toggle(f.options.big_hat,e);if("none"===r)return s(0);const i=c(r),b=Object.keys(i).reduce(function(e,r){return"top"===r&&n||Reflect.set(e,r,a(u(t,"hair",i[r]))),e},{});return Object.keys(b).forEach(r=>"front"===r?e.insertBefore(b[r],l(t,"hat")):e.insertBefore(b[r],o.getElement(t,"base"))),o.setElement(t,"hair",function(e){const t=Object.keys(e);return Object.assign({remove(){t.forEach(e=>this[e].remove())}},e)}(b)),s(Reflect.has(b,"back"))}const h=function(){const e=new WeakMap;return{create(t){const r=t.appendChild(s());return e.set(t,r),r},get:t=>e.get(t),appendUSE(e,t,r){const n=a(u(t,r));return o.setElement(t,r,e.appendChild(n)),n},insertAfterUSE(e,t,r,n){const s=a(u(t,r));return o.setElement(t,r,e.insertBefore(s,n.nextElementSibling)),s},avatarPartHref:(e,t,r=o.getAttribute(e,t))=>`${o.getAttribute(e,"href")}#${t}-${r}`,remove(t){e.get(t).remove(),Reflect.deleteProperty(e,t)}}}();class g extends HTMLElement{constructor(){super(),f.create()}static get observedAttributes(){return o.attributes_keys}attributeChangedCallback(e,t,r){if(console.log({name:e,value_new:r,value_old:t}),r===t)return!1;o.setAttribute(o.get(this),e,r),this.update(e)}connectedCallback(){const e=h.create(this),r=o.get(this),n=h.appendUSE.bind(null,e,r);t.forEach(e=>{if(!Array.isArray(e))return n(e);e.forEach(e=>{if("none"!==o.getAttribute(r,e))return n(e)})}),b(e,r)}update(e){const t=h.get(this);if(!t)return!1;const r=o.get(this);if("href"===e)return Reflect.set(r,"els",{}),h.remove(this),this.connectedCallback();if(o.isFromMultiplePieces(e))return b(t,r);const n=()=>"hat"===e&&b(t,r),s=o.getAttribute(r,e);return"none"===s?n(o.deleteElement(r,e)):o.isNullable(e)?n(h.insertAfterUSE(t,r,e,l(r,e))):n(i(o.getElement(r,e),u(r,e,s)))}}o.attributes_keys.forEach(e=>Reflect.defineProperty(g.prototype,e,{get(){return this.getAttribute(e)},set(t){return this.setAttribute(e,t)}})),customElements.define("svg-bigheads",g);return customElements.define("svg-bigheads-part",class extends HTMLElement{constructor(){super(),f.create()}connectedCallback(){this._svg=this.appendChild(s());const[e,t,r]=["href","type","value"].map(e=>this.getAttribute(e));if("none"===r)return!1;if(!o.isFromMultiplePieces(t))return this._svg.appendChild(a(`${e}#${t}-${r}`));const n=c(r);["back","top","front"].forEach(r=>this._svg.appendChild(a(`${e}#${t}-${n[r]}`)))}nextValue(e=1){return this._svg.remove(),this.setAttribute("value",o.getNextPartName(this.getAttribute("type"),this.getAttribute("value"),e)),this.connectedCallback()}}),{}}();